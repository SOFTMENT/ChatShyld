"use strict";var a=Object.defineProperty;var c=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var m=Object.prototype.hasOwnProperty;var l=(e,t)=>{for(var o in t)a(e,o,{get:t[o],enumerable:!0})},p=(e,t,o,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of d(t))!m.call(e,n)&&n!==o&&a(e,n,{get:()=>t[n],enumerable:!(r=c(t,n))||r.enumerable});return e};var w=e=>p(a({},"__esModule",{value:!0}),e);var E={};l(E,{handler:()=>C});module.exports=w(E);var i=require("@aws-sdk/client-dynamodb"),s=require("@aws-sdk/lib-dynamodb"),y=s.DynamoDBDocumentClient.from(new i.DynamoDBClient({})),x=process.env.CONN_TABLE,C=async e=>{let t=e.requestContext.connectionId,o=Math.floor(Date.now()/1e3)+300;return await y.send(new s.UpdateCommand({TableName:x,Key:{connectionId:t},UpdateExpression:"SET lastSeen = :now, ttl = :ttl",ExpressionAttributeValues:{":now":new Date().toISOString(),":ttl":o},ConditionExpression:"attribute_exists(connectionId)"})),{statusCode:200,body:"pong"}};0&&(module.exports={handler});
